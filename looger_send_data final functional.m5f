{"components":[{"id":"____screen","createTime":1661246577103,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","size":0,"type":"screen"}],"type":"atom","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable id=\"BR=#g]WVo*m?gib.0b.1\">count</variable><variable id=\"ww1+]IoOIWgvjv$-Ls]8\">looger_url</variable><variable id=\"^qCq+mu)yxdC(RWw}T^~\">looger_id</variable><variable id=\"%*bI5|w1RVTQ2NE3u|E{\">looger_port</variable><variable id=\"TSj{S(.k=^u{uup.T7/^\">prepared_data_to_send</variable></variables><block type=\"procedures_defnoreturn\" id=\"9wvhoTxk4QWUxd9vJPzo\" x=\"1050\" y=\"30\"><field name=\"NAME\">print_uart_data</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"controls_whileUntil\" id=\"LoIm.:T2OC?T]hYyIo*S\"><field name=\"MODE\">UNTIL</field><value name=\"BOOL\"><block type=\"uart_any\" id=\"O8K#66(Ic~v[9rW,GA7Y\"><field name=\"VAR\">uart1</field></block></value><next><block type=\"text_print\" id=\"OTibj:|ox^v)yJ`3gfMP\"><value name=\"TEXT\"><block type=\"decode_str\" id=\"chlK}~7nLncLcmB;PJbo\"><value name=\"VALUE\"><block type=\"uart_read\" id=\"*tc1q1jFzLvGY8Odu@PW\"><field name=\"VAR\">uart1</field></block></value></block></value></block></next></block></statement></block><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"98\" y=\"89\"><next><block type=\"wifi_connect\" id=\"=jpn{2NwEbSI5s)jf`wk\"><next><block type=\"socket_udp_client_start\" id=\"zR/2}x+IZf#~L_XOM).Z\"><value name=\"ip\"><shadow type=\"text\" id=\"7p?Qgyig}z9k~4sIPpFR\"><field name=\"TEXT\">looger.jablotron.cz</field></shadow></value><value name=\"port\"><shadow type=\"math_number\" id=\"N-[8p089.(~adQUmjl#c\"><field name=\"NUM\">514</field></shadow></value><next><block type=\"variables_set\" id=\"%$^g7D1CZPJs%-m5yOn#\"><field name=\"VAR\" id=\"ww1+]IoOIWgvjv$-Ls]8\">looger_url</field><value name=\"VALUE\"><block type=\"text\" id=\"tsS*UuRE*lFLCl;MUXgb\"><field name=\"TEXT\">looger.jablootron.cz</field></block></value><next><block type=\"variables_set\" id=\"SNyl3b)i]vM#Ca~q]%S-\"><field name=\"VAR\" id=\"^qCq+mu)yxdC(RWw}T^~\">looger_id</field><value name=\"VALUE\"><block type=\"text\" id=\"C,]iR(s/I830q}ysV;ee\"><field name=\"TEXT\">34115555</field></block></value><next><block type=\"variables_set\" id=\"wu9wR__)~{KJW*z?`T-y\"><field name=\"VAR\" id=\"BR=#g]WVo*m?gib.0b.1\">count</field><value name=\"VALUE\"><block type=\"math_number\" id=\"j-]y%o#_o$rQW+kihugJ\"><field name=\"NUM\">0</field></block></value><next><block type=\"variables_set\" id=\"b0cJm+d.7D@V`C8TxA]h\"><field name=\"VAR\" id=\"%*bI5|w1RVTQ2NE3u|E{\">looger_port</field><value name=\"VALUE\"><block type=\"text\" id=\"TaZE^c^d=|m^cuu3=pS#\"><field name=\"TEXT\">514</field></block></value><next><block type=\"variables_set\" id=\"eqb-bdtaC_N}gU~}}Jk;\"><field name=\"VAR\" id=\"TSj{S(.k=^u{uup.T7/^\">prepared_data_to_send</field><value name=\"VALUE\"><block type=\"text\" id=\"d[3?X3llq#b#^PPuxCT/\"><field name=\"TEXT\"></field></block></value><next><block type=\"text_print\" id=\"Xf7X[u#,0_osAKw=Grvp\"><value name=\"TEXT\"><block type=\"text\" id=\"+/jDcNn`)t3K|ZyFU:GN\"><field name=\"TEXT\">UART setup!</field></block></value><next><block type=\"uart\" id=\"WVSCI_L1Tv@I}LGQ(Gsh\"><field name=\"VAR\">uart1</field><field name=\"BAUD\">9600</field><field name=\"USE_TIMER\">1</field><value name=\"TX\"><shadow type=\"math_slider\" id=\"Q%pK#*SM4V~B:{U*jf4:\"><field name=\"NUM\" max=\"34\" step=\"1\">22</field></shadow></value><value name=\"RX\"><shadow type=\"math_slider\" id=\"IjgZ.fJ[(KqeSoe:-3._\"><field name=\"NUM\" max=\"36\" step=\"1\">19</field></shadow></value><next><block type=\"uart_write_line\" id=\"FSXVg?.$S)T!E0l`O~v~\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"*HHvbK{,vKxn@nnf,h-Y\"><field name=\"TEXT\">AT+CIMI</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"lZc!UmF3+8kJ7CmOt7su\"><mutation name=\"print_uart_data\"></mutation><next><block type=\"text_print\" id=\"QN~F`Mgpi_G%hIcobP9%\"><value name=\"TEXT\"><block type=\"text\" id=\"QaVC`.~|#`|pRHu|nXf%\"><field name=\"TEXT\">síla signálu</field></block></value><next><block type=\"uart_write_line\" id=\"6Vdv.YJ$Ol^77#zRGZms\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"V_|7MlKg4i{3|`HxuHWa\"><field name=\"TEXT\">AT+CSQ</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"s4cYG;#%Mho2{-NB2$Cp\"><mutation name=\"print_uart_data\"></mutation><next><block type=\"text_print\" id=\"8x?Fl9IVHU3=s?qM6d9`\"><value name=\"TEXT\"><block type=\"text\" id=\"a*HzCu;eM7hpCIYq2y[/\"><field name=\"TEXT\">kontrola dostupnosti SIM</field></block></value><next><block type=\"uart_write_line\" id=\"y{ih$r~4mI*3Y4l%Z:BU\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"G8hJTYX=(1^.JqENQQ|V\"><field name=\"TEXT\">AT+CPIN?</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"jFRls!8krqVf+.ZOZZ@a\"><mutation name=\"print_uart_data\"></mutation><next><block type=\"controls_repeat\" id=\"o_Rd/|MEHR?r!`?DXY;v\"><field name=\"TIMES\">10</field><statement name=\"DO\"><block type=\"execute\" id=\"Vd^wn$pjyioqpyG~92yW\"><field name=\"CODE\">import time &amp;#10;count = count + 1&amp;#10;msg = looger_id + \":{\" + \"_co2:\"+ str(count) + \"}\"&amp;#10;#uart1.write('AT+CSOSEND=1,0,'+msg+\"\\r\\n\")&amp;#10;udpsocket.send (looger_id + \":{\" + \"_co2:\"+ str(count) + \"}\")&amp;#10;time.sleep(50)&amp;#10;</field></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"_)@QHW,UW,!g:Sx]H=fL\" x=\"1050\" y=\"190\"><field name=\"NAME\">NB_init</field><comment pinned=\"false\" h=\"80\" w=\"160\">Describe this function...</comment><statement name=\"STACK\"><block type=\"text_print\" id=\"h=*oZS:SB(Zz{`Ik%9hP\"><value name=\"TEXT\"><block type=\"text\" id=\"@WYBcNznb@/(P.kxp|V5\"><field name=\"TEXT\"> ICCID SIM karty</field></block></value></block></statement></block><block type=\"uart_write_line\" id=\"LQ2ZM{eh09Hm@af.b!4u\" disabled=\"true\" x=\"730\" y=\"310\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"zYr%PL@.O@fTO7%,RFvL\" disabled=\"true\"><field name=\"TEXT\">AT+CSOC=1,2,1</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"O*7Xr1~1P(fFZr%:O^i4\" disabled=\"true\"><mutation name=\"print_uart_data\"></mutation></block></next></block><block type=\"procedures_callnoreturn\" id=\".FHvQ:pZ@b*R|E-P)]3(\" disabled=\"true\" x=\"730\" y=\"430\"><mutation name=\"print_uart_data\"></mutation><next><block type=\"uart_write_line\" id=\"%*ac)*)=t$gp{K+O+$,0\" disabled=\"true\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\".SF[gdvhzhxGABulT]P2\" disabled=\"true\"><field name=\"TEXT\">AT+CSOCON=1,514,\"34.242.244.221\"</field></shadow></value></block></next></block><block type=\"execute\" id=\"EtGD|LVy|roFhB:kLOKd\" disabled=\"true\" x=\"730\" y=\"550\"><field name=\"CODE\">looger_id = \"34115555\"&amp;#10;count = count + 1&amp;#10;msg = looger_id + \":{\" + \"_co2:\"+ str(count) + \"}\"&amp;#10;udpsocket.send(msg)</field><next><block type=\"execute\" id=\"UzkaB`5`LjWLuP4rC%p#\" disabled=\"true\"><field name=\"CODE\">count = count + 1</field></block></next></block><block type=\"uart_write_line\" id=\"!@AKokV~eB$C({b2A@,.\" disabled=\"true\" x=\"726\" y=\"727\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"~n=ZjzGFO*1oMYeWjp)k\" disabled=\"true\"><field name=\"TEXT\">AT+CFUN=0</field></shadow></value><next><block type=\"uart_write_line\" id=\"?uh4Of]}b9z4/N1jc*qx\" disabled=\"true\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"Rwj@fKCSh-HmTguhzDV.\" disabled=\"true\"><field name=\"TEXT\">AT+CSOC=1,2,1</field></shadow></value><next><block type=\"uart_write_line\" id=\"zx/A?yKXqiM=_zSu}?lE\" disabled=\"true\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"`^aIMpU-A4$!PYJTvS6#\" disabled=\"true\"><field name=\"TEXT\">AT+CSOCON=1,514,\"34.242.244.221\"</field></shadow></value><next><block type=\"uart_write_line\" id=\"AE:k%ZtuFC}v*#?%t@46\" disabled=\"true\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"EQJWOSg,.7H(1,X,aajs\" disabled=\"true\"><field name=\"TEXT\">AT+CSOSEND=1,0,\"34115555:{a:10}\"</field></shadow></value><next><block type=\"uart_write_line\" id=\"Duc{Jm/5*S?nfT:h76Cq\" disabled=\"true\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"|+fnh+bX,VHqe|[~F^:C\" disabled=\"true\"><field name=\"TEXT\">AT+CSOCL=0 </field></shadow></value><next><block type=\"socket_udp_client_sendmsg\" id=\"Em+Wosn%!etexQ_PS]!v\" disabled=\"true\"><value name=\"msg\"><shadow type=\"text\" id=\"=/V7tDxR`bvm(x2=9z{+\" disabled=\"true\"><field name=\"TEXT\">34115555:startup</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block><block type=\"socket_udp_client_sendmsg\" id=\"[Yag.F^s|v15ijZ/#5C(\" disabled=\"true\" x=\"990\" y=\"750\"><value name=\"msg\"><shadow type=\"text\" id=\"$mRSNwn`2L]qe5N8t+0W\" disabled=\"true\"><field name=\"TEXT\">AB:34115555_startup</field></shadow></value></block><block type=\"uart_write\" id=\"ggEgScS=B6QTxsk(-wJH\" disabled=\"true\" x=\"1110\" y=\"790\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><shadow type=\"text\" id=\"gutf5xoRGm!2Ic(qWbB7\" disabled=\"true\"><field name=\"TEXT\">AT+BAND=?</field></shadow></value></block><block type=\"controls_if\" id=\"EJUihYG;de;!T7Kbp^NY\" disabled=\"true\" x=\"90\" y=\"1010\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"}e;s2zj.q_1(e=~$4.t:\" disabled=\"true\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"WLpU}UBP3K~8b[,)gQ5S\" disabled=\"true\"><field name=\"VAR\" id=\"BR=#g]WVo*m?gib.0b.1\">count</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"joDaIF#n{RU?5xh{M4#^\" disabled=\"true\"><field name=\"NUM\">10</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_repeat\" id=\"w63cK=_I!9aQ=IbKj`)v\" disabled=\"true\"><field name=\"TIMES\">10</field><statement name=\"DO\"><block type=\"execute\" id=\"$c;Al!$vG4iv7?p.[(V,\" disabled=\"true\"><field name=\"CODE\">import time&amp;#10;count = count - 1&amp;#10;msg = looger_id + \":{\" + \"_co2:\"+ str(count) + \"}\"&amp;#10;#uart1.write('AT+CSOSEND=1,0,'+msg+\"\\r\\n\")&amp;#10;udpsocket.send (looger_id + \":{\" + \"_co2:\"+ str(count) + \"}\")&amp;#10;time.sleep(50)&amp;#10;if == 0 &amp;#10;break </field></block></statement></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1663231275568,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"yyLIi8xLUliLFLFJQrKhpDKoOFo3oQbT","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["rgb","machine"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"6DDD30B7","uuid":"207c8129-02f0-45e0-8504-dc3e1e756d56"}