{"components":[{"id":"____screen","createTime":1678817468346,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","size":0,"type":"screen"}],"type":"atom","versions":"Beta","units":[{"id":"jsT#YvNb`ZwLPkT`","createTime":1678818467149,"hidden":false,"type":"env2","name":"env2_0","port":"A","default":["A","PAHUB","Custom"],"pb_port":[0,1,2,3,4,5],"new_pb_port":"0","user_port":["21","22"],"icon":"env2.png","hasPnP":true,"url":"https://docs.m5stack.com/en/unit/envII"}],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"!A9@$|gej,t_^G-C,RQP\">write</variable><variable id=\"*pJp?Oq,eEQ~}=2@8z2/\">temp</variable><variable id=\"^Zda?z*.(oqt(Fh#YVAR\">press</variable><variable id=\"w[(]0Q/i,pr=i_WkG3~1\">hum</variable></variables><block type=\"wifi_doConnect\" id=\"p@ra^q49fiFBy8hY+Lz?\" disabled=\"true\" x=\"430\" y=\"-10\"><value name=\"apiKey\"><shadow type=\"text\" id=\"y:xB0Xf(ZGubEZ2lySr$\" disabled=\"true\"><field name=\"TEXT\">Tehnik-WiFi</field></shadow></value><value name=\"Msg\"><shadow type=\"text_password\" id=\"C=7M+KtNgkn7q-AnDAp%\" disabled=\"true\"><field name=\"TEXT\">Conti2015</field></shadow></value></block><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"90\" y=\"87\"><next><block type=\"rgb_set_all\" id=\"fI/O~hCQ`gF7I)t:Q~y9\"><field name=\"COLOR\">#ffffff</field><next><block type=\"modbus_master_u_init\" id=\"e%W=(ftx5{nc[eP6iw6z\"><mutation isCtrlPin=\"False\"></mutation><field name=\"UARTid\">1</field><field name=\"data_bits\">8</field><field name=\"stop_bits\">1</field><field name=\"parity\">None</field><value name=\"TX\"><shadow type=\"math_number\" id=\"ES1^bR*.$JW3buxL2@kE\"><field name=\"NUM\">23</field></shadow></value><value name=\"RX\"><shadow type=\"math_number\" id=\"I[9mC@2|g2Vpm[+Kq^s*\"><field name=\"NUM\">33</field></shadow></value><value name=\"BAUD\"><shadow type=\"math_number\" id=\":)42vN^QVJx`Q_z$8YL%\"><field name=\"NUM\">9600</field></shadow></value><next><block type=\"mqtt_set_client\" id=\"7TYkx$*)cZ~*s%-MEM#7\"><value name=\"ID\"><shadow type=\"text\" id=\"%],%Wy63?]nNVODz71|v\"><field name=\"TEXT\">pepa</field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"h|sCE(G{A9.+W.h{GFfc\"><field name=\"TEXT\">broker.hivemq.com</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"7L0]{GnCvkOab11x0ShQ\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\",*{tj;W%s?7)-SG9MmhE\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text_password\" id=\"0c|#`%/!}rtZ`MtwxMxK\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\"ks=h:a!GKCc(FR8HXjG=\"><field name=\"NUM\" max=\"65536\" step=\"1\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\"Ne{DY)d(1+yFl0FpH^aG\"><next><block type=\"variables_set\" id=\"ir6QD2m!^ZbR[HQK-2A(\"><field name=\"VAR\" id=\"*pJp?Oq,eEQ~}=2@8z2/\">temp</field><value name=\"VALUE\"><block type=\"convent_str\" id=\"4pf`)bCI?=+ZX|k@)r,~\"><value name=\"VALUE\"><block type=\"dht12_get_temperature\" id=\"!!Q[1`v{px+6Nnn(0H=C\"><field name=\"VARNAME\">env2_0</field></block></value></block></value><next><block type=\"variables_set\" id=\"Sf9yxnX$,h8gPSJb-5@/\"><field name=\"VAR\" id=\"^Zda?z*.(oqt(Fh#YVAR\">press</field><value name=\"VALUE\"><block type=\"convent_str\" id=\"Ghzf*9uN2u%@R}#t{%Gi\"><value name=\"VALUE\"><block type=\"dht12_pressure\" id=\"J!oMDcC3CQmQz5XfYv6$\"><field name=\"VARNAME\">env2_0</field></block></value></block></value><next><block type=\"variables_set\" id=\"ih]2ab*n(u/+n0m7e_%n\"><field name=\"VAR\" id=\"w[(]0Q/i,pr=i_WkG3~1\">hum</field><value name=\"VALUE\"><block type=\"convent_str\" id=\"kt1PIB,%/Do1ARZ[tspp\"><value name=\"VALUE\"><block type=\"dht12_get_humidity\" id=\"oQYvFs8)[R,R)*,_W/$x\"><field name=\"VARNAME\">env2_0</field></block></value></block></value><next><block type=\"basic_on_loop\" id=\"b76;5`4{-?I^=)*!yKA:\"><statement name=\"LOOP\"><block type=\"mqtt_publish\" id=\"N41|(0axc_8(}Q+q1U_l\"><value name=\"FROM\"><shadow type=\"text\" id=\"+YV~Y]!xO~-g#MyoZKOg\"><field name=\"TEXT\">home-temp</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"F/|F}=8P(O=Z`RSm[n-H\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"Kvi$@=ahP4mQ0=VHMu,}\"><field name=\"VAR\" id=\"*pJp?Oq,eEQ~}=2@8z2/\">temp</field></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"Xp|8C]X!Elkd4Q8*UM*:\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value><next><block type=\"mqtt_publish\" id=\"+JIbY$Q`_#W]R*K}Z^SZ\"><value name=\"FROM\"><shadow type=\"text\" id=\"~8Gb$7.P6[haV6loWtq@\"><field name=\"TEXT\">home-press</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"tbqzgSO(2TWyjsTvTtkW\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"C!r`itXN]yJ2PxeXF56|\"><field name=\"VAR\" id=\"^Zda?z*.(oqt(Fh#YVAR\">press</field></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"FCMu$SGk+Z;BD_l{K#bD\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value><next><block type=\"mqtt_publish\" id=\"*Fe!##Q2tb0/0NSE]X!~\"><value name=\"FROM\"><shadow type=\"text\" id=\"O(.j5ePr]fAiOY`h}R80\"><field name=\"TEXT\">home-hum</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"^^e)t;h/4`w5tPcTBN)q\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"LoY@++:jQf|.Y.C*qpE(\"><field name=\"VAR\" id=\"w[(]0Q/i,pr=i_WkG3~1\">hum</field></block></value><value name=\"qos\"><shadow type=\"math_slider\" id=\"EGEGBf`;N{pvzOVZB}F.\"><field name=\"NUM\" max=\"2\" step=\"1\">0</field></shadow></value><next><block type=\"timer_delay\" id=\"fPA(Hb@#hCUIcow5,6|M\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"@J](mrLTtD8qL_Fmp5Dq\"><field name=\"NUM\">5</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"text_math_split\" id=\"1PZ]1WIB1f?DP.WoL-]9\" disabled=\"true\" x=\"910\" y=\"350\"><value name=\"arg1\"><shadow type=\"math_number\" id=\";!ZBm|A$^arV!$]/:3^8\" disabled=\"true\"><field name=\"NUM\">2</field></shadow></value></block><block type=\"mqtt_sub\" id=\"^jhpaU:vC/dx{$4|l_Ow\" x=\"90\" y=\"770\"><value name=\"FROM\"><shadow type=\"text\" id=\",qyVen9!ERtEqlD?ZOOk\"><field name=\"TEXT\">home-relay1</field></shadow></value><statement name=\"FUNC\"><block type=\"controls_if\" id=\"6]Zbgx{EnMc@W-Q`4V74\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"`xuw1sCV)OHMl/w-!xq/\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"*N.`U@sIQ|wT@Z{q32w~\"></block></value><value name=\"B\"><block type=\"text\" id=\"[_S|!4Hy@A$zlKCJdx+q\"><field name=\"TEXT\">open</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"b];;@wXGBT+b%M^=/RKB\"><field name=\"VAR\" id=\"!A9@$|gej,t_^G-C,RQP\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"Euv1GOS8iZJPR@E89=58\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"KMnh]4q.`Stm3_AtJ~0b\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\")bC7pY9$q;D`x[C{Oj#3\"><field name=\"NUM\" max=\"9999\" step=\"1\">816</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\" id=\".tgJ2G0xKILJ{|F7eTz`\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"@8e_jg,.8=LId.[/x_Q}\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"|q[i#TK-pYsCMi+fUdVb\"><field name=\"BOOL\">TRUE</field></block></value></block></value></block></value></block></statement><next><block type=\"controls_if\" id=\"9h+5.A=Lg2zH^P@nx9wT\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"?*hX%.-`zKmV:2m]isL2\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"{q{`8~t8)70k%=wrt^lk\"></block></value><value name=\"B\"><block type=\"text\" id=\":#{0-3O|p:4.oXqp#-U;\"><field name=\"TEXT\">close</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"jKXHA):NjU8Hxky~fzlr\"><field name=\"VAR\" id=\"!A9@$|gej,t_^G-C,RQP\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"3}m=cBJ^}8Gp2:]q9{k2\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"fO8{QTQlT}Og`NT38GFc\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"hEkKyXmQeibTeetR)#~5\"><field name=\"NUM\" max=\"9999\" step=\"1\">816</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"qH-4D}sFe{B|U@8xhXxk\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"47`?/L4O^=]ZKy5U5XdK\"><field name=\"BOOL\">FALSE</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block><block type=\"mqtt_sub\" id=\"!(iAuFhT^6EjO4GY7xJ~\" x=\"90\" y=\"1010\"><value name=\"FROM\"><shadow type=\"text\" id=\"(/Iuw_1vJ_;c*M4eUyP]\"><field name=\"TEXT\">home-relay2</field></shadow></value><statement name=\"FUNC\"><block type=\"controls_if\" id=\"ua+xOaX89,o?I2N5rXzg\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"S_@n]NeHL1ZK1aju;xxL\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"=H@odxTiz1%sR{li|eT-\"></block></value><value name=\"B\"><block type=\"text\" id=\"9wy/z]aEjeox:D~w?g1L\"><field name=\"TEXT\">open</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"!D_I$t[m+q*KTC=pV1/0\"><field name=\"VAR\" id=\"!A9@$|gej,t_^G-C,RQP\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"{H)3h/z66BMG{kj4vBY=\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"P;4@A.p+@/E`:$J#H)1o\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"#@0dHX$hNkHu91=FZ(2$\"><field name=\"NUM\" max=\"9999\" step=\"1\">817</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"JyKUc92oqo68^MzL=Oka\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"-`fKW8*O8o|VXsIJL/S|\"><field name=\"BOOL\">TRUE</field></block></value></block></value></block></value></block></statement><next><block type=\"controls_if\" id=\"/Ppq;EiUwFZLRc_.q:J8\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"08M,GB(Zv9EjefN@RW,^\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"p2:T[rEq(lD#G]EOF9Mj\"></block></value><value name=\"B\"><block type=\"text\" id=\"%u{lLT)sE`m{M_@yD]1i\"><field name=\"TEXT\">close</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"/K.3Ie[6eIXx{YkYkuLF\"><field name=\"VAR\" id=\"!A9@$|gej,t_^G-C,RQP\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"mE[Z;l~Ylw4n:c;)JbU*\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"}FKmpd|(j!v=iLK3TAu^\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"M*s#`1%11FgAklE;nv#r\"><field name=\"NUM\" max=\"9999\" step=\"1\">817</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"Fyyk2gS#-42LW|8UCLhf\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"3u=,SF2#jyz*1)=|O#)?\"><field name=\"BOOL\">FALSE</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block><block type=\"mqtt_sub\" id=\"zA-,Kh[*,Ku@Jy83}EQ0\" x=\"90\" y=\"1250\"><value name=\"FROM\"><shadow type=\"text\" id=\"F}A*z@Nlmv_$3v50gf{A\"><field name=\"TEXT\">home-relay3</field></shadow></value><statement name=\"FUNC\"><block type=\"controls_if\" id=\"WUeDt@GpB({NDV!-A!_Z\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"IcE^^pra-Ay7OnZuCYT+\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"2SZw~Y.lPk);4FV.:L;6\"></block></value><value name=\"B\"><block type=\"text\" id=\"]/Q9c!v]OkC;`/U/kE2/\"><field name=\"TEXT\">open</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"JJv+o-*]Q7LbA5MfctX#\"><field name=\"VAR\" id=\"!A9@$|gej,t_^G-C,RQP\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"7%d%v743N[33Nbn@d*?1\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"FF._kkGw8+]0#-!q/|xx\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"_PCM3lmc{)DE:~an2)^_\"><field name=\"NUM\" max=\"9999\" step=\"1\">818</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"EMiUD[k_Vy^np|int-t,\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"YZ{bM4i54xsVZ+!$txT*\"><field name=\"BOOL\">TRUE</field></block></value></block></value></block></value></block></statement><next><block type=\"controls_if\" id=\"Z(K[@Nh;36b0bY``R4oI\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"?JXWBb|U!aZ)9?rKBo:U\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"_^3fT.!jKZCX;-H+*$]k\"></block></value><value name=\"B\"><block type=\"text\" id=\"Wo8uY~NN;AO82-7G}(58\"><field name=\"TEXT\">close</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"}OLt.x_K.9I+K}?SJIF?\"><field name=\"VAR\" id=\"!A9@$|gej,t_^G-C,RQP\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"K6KMiZ-Ot8@=7R[@-Gy2\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"@gq~z.[,Y`v@ZwDLe,r_\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"d`1Ez-O!GZ~q9BVX^o4f\"><field name=\"NUM\" max=\"9999\" step=\"1\">818</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"J!=1T[?aPS5n[#3a{-lq\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"Zi/1LcZn|hlg2yhs-~L$\"><field name=\"BOOL\">FALSE</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1678818467149,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"67wgZNLU0y3TOWD8nenG2A9G9CvqCWRL","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["rgb"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"9789495A","uuid":"72717e8f-943a-4b3f-b236-e01485fbddf7"}