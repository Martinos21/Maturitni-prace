{"components":[{"id":"____screen","createTime":1668372524978,"name":"screen","x":0,"y":0,"width":320,"height":240,"backgroundColor":"#222222","backgroundImage":"","size":0,"type":"screen"}],"type":"atom","versions":"Beta","units":[{"id":"qWXwmFYoF#HXBQWK","createTime":1678545602524,"hidden":false,"type":"env2","name":"env2_1","port":"A","default":["A","PAHUB","Custom"],"pb_port":[0,1,2,3,4,5],"new_pb_port":"0","user_port":["21","22"],"icon":"env2.png","hasPnP":true,"url":"https://docs.m5stack.com/en/unit/envII"}],"hats":[],"stamps":[],"blockly":"<variables><variable id=\"E=I$[XCY9iVzUGF{d8B*\">write</variable><variable id=\"+%}{aAMD*|ts;65ZA#Gd\">home-temp-value</variable><variable id=\"0x?C?hWm5]fl?_^VL;5M\">home-press-value</variable><variable id=\"naQikLVN6JttQiL80Cg1\">home-hum-value</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"90\" y=\"-30\"><next><block type=\"wifi_doConnect\" id=\"Zxk=_d4nw)i}poDHDk%R\"><value name=\"apiKey\"><shadow type=\"text\" id=\")8@LmK;qiad(d9PW$yZ}\"><field name=\"TEXT\">Tehnik-WiFi</field></shadow></value><value name=\"Msg\"><shadow type=\"text_password\" id=\"V}hv5B!~BJDdP-N9_w7)\"><field name=\"TEXT\">Conti2015</field></shadow></value><next><block type=\"rgb_set_all\" id=\"|H3%lj)EKfK0_55jpwl:\"><field name=\"COLOR\">#ffffff</field><next><block type=\"modbus_master_u_init\" id=\"1Av~m(vt1fzF]b[z@Ag(\"><mutation isCtrlPin=\"False\"></mutation><field name=\"UARTid\">1</field><field name=\"data_bits\">8</field><field name=\"stop_bits\">1</field><field name=\"parity\">None</field><value name=\"TX\"><shadow type=\"math_number\" id=\"p@NvV_+F]DB8Em$Haee;\"><field name=\"NUM\">23</field></shadow></value><value name=\"RX\"><shadow type=\"math_number\" id=\"=|/,E$jXGrj6at,#${w[\"><field name=\"NUM\">33</field></shadow></value><value name=\"BAUD\"><shadow type=\"math_number\" id=\"31?|Tpef6D~pWlrvC1:(\"><field name=\"NUM\">9600</field></shadow></value><next><block type=\"mqtt_set_client\" id=\"7mVdYLKYx8F,:7*,sw8#\"><value name=\"ID\"><shadow type=\"text\" id=\"7)r8o~d).t8!A]6n$Rg_\"><field name=\"TEXT\">mqtt</field></shadow></value><value name=\"SERVER\"><shadow type=\"text\" id=\"(sR}y$4|W/{NfO;cQ$X(\"><field name=\"TEXT\">broker.hivemq.com</field></shadow></value><value name=\"PORT\"><shadow type=\"math_number\" id=\"f`seRJRq|z$x8bc-s8T_\"><field name=\"NUM\">1883</field></shadow></value><value name=\"USER\"><shadow type=\"text\" id=\"|5d$LmhT0|f:aVpzO/cl\"><field name=\"TEXT\"></field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"y$a:a:,_`V2EDK@}kCPH\"><field name=\"TEXT\"></field></shadow></value><value name=\"KEEPALIVE\"><shadow type=\"math_slider\" id=\"w-`68`d[**sv-K*.)=Fb\"><field name=\"NUM\" max=\"65536\" step=\"1\">300</field></shadow></value><next><block type=\"mqtt_start\" id=\"EwOT@N,a8Nx8hXMqbS3Q\"><next><block type=\"variables_set\" id=\"A0a|cYctFZ?A.txqg](-\"><field name=\"VAR\" id=\"+%}{aAMD*|ts;65ZA#Gd\">home-temp-value</field><value name=\"VALUE\"><block type=\"convent_str\" id=\"H;~Gw~]v9sv+`P!LE;)X\"><value name=\"VALUE\"><block type=\"dht12_get_temperature\" id=\"5.24jr=H)4`x/#OA/Y?e\"><field name=\"VARNAME\">env2_1</field></block></value></block></value><next><block type=\"variables_set\" id=\"*-=^kz|S,*9?ODDVX)(M\"><field name=\"VAR\" id=\"0x?C?hWm5]fl?_^VL;5M\">home-press-value</field><value name=\"VALUE\"><block type=\"convent_str\" id=\"89zD2)9bBkXXfiot3M4s\"><value name=\"VALUE\"><block type=\"dht12_pressure\" id=\"bt-.j-`RHZsFmMC1@X9@\"><field name=\"VARNAME\">env2_1</field></block></value></block></value><next><block type=\"variables_set\" id=\"1`9.~O`ZQNe^s0STU{8y\"><field name=\"VAR\" id=\"naQikLVN6JttQiL80Cg1\">home-hum-value</field><value name=\"VALUE\"><block type=\"convent_str\" id=\"/T|YTMq9@uXl=|oP/.*?\"><value name=\"VALUE\"><block type=\"dht12_get_humidity\" id=\"+.XJ!WN5*f+x%(%w)zV$\"><field name=\"VARNAME\">env2_1</field></block></value></block></value><next><block type=\"basic_on_loop\" id=\"l*N[})=H{?mCKz/vPHBW\"><statement name=\"LOOP\"><block type=\"mqtt_publish\" id=\"#`~%u2g4~*5LO)C{u=2}\"><value name=\"FROM\"><shadow type=\"text\" id=\"0*=;Lby=s|rtT~-uv8$u\"><field name=\"TEXT\">home-temp</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"v)RL0`Hh|h3S(0P~=/qB\"><field name=\"TEXT\">value</field></shadow><block type=\"variables_get\" id=\"lZSX9D#=!,0J5s/ckCdY\"><field name=\"VAR\" id=\"+%}{aAMD*|ts;65ZA#Gd\">home-temp-value</field></block></value><value name=\"qos\"><block type=\"math_number\" id=\"]!n:jY9P2*{}zo8x_)Mn\"><field name=\"NUM\">0</field></block></value><next><block type=\"mqtt_publish\" id=\"Olm/Gr~lc3N[[r*Emm.p\"><value name=\"FROM\"><shadow type=\"text\" id=\"9]twOk-46`eRE%Nsx$K}\"><field name=\"TEXT\">home-press</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"d}Lpbu{TeBsllSrB_jO*\"><field name=\"TEXT\">state</field></shadow><block type=\"variables_get\" id=\"J0Sbq8|%X/xV#q830G-4\"><field name=\"VAR\" id=\"0x?C?hWm5]fl?_^VL;5M\">home-press-value</field></block></value><value name=\"qos\"><block type=\"math_number\" id=\"X]R0j,eXj]v=Lg1.h]q[\"><field name=\"NUM\">0</field></block></value><next><block type=\"mqtt_publish\" id=\"J@FL]hah)=8$OZ,X+36I\"><value name=\"FROM\"><shadow type=\"text\" id=\"G/JIq|uN{TveTBSKvd+Z\"><field name=\"TEXT\">home-hum</field></shadow></value><value name=\"MSG\"><shadow type=\"text\" id=\"po6nZj5=S.-T]W}~Eb^~\"><field name=\"TEXT\">state</field></shadow><block type=\"variables_get\" id=\"0F]%fpxGqk3Dm*mr*pd]\"><field name=\"VAR\" id=\"naQikLVN6JttQiL80Cg1\">home-hum-value</field></block></value><value name=\"qos\"><block type=\"math_number\" id=\"?fmGGUkU*+|,])f5l_;u\"><field name=\"NUM\">0</field></block></value><next><block type=\"timer_delay\" id=\"cH.YwtFZs%x2B/G1#{A[\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"dUWrgNyF=.uB4!!tSe=z\"><field name=\"NUM\">10</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"text_add\" id=\"z6PB]M[4Pnw(W2*)V=1`\" disabled=\"true\" x=\"710\" y=\"270\"><value name=\"arg0\"><shadow type=\"text\" id=\"eMA#.8kmw!k{@}vLMMz8\"><field name=\"TEXT\"></field></shadow><block type=\"text_math_split\" id=\"(uo/!vJaYe_}p?]vs_LF\" disabled=\"true\"><value name=\"arg1\"><shadow type=\"math_number\" id=\"ZNq2%]k4F[}eKM`(/NUh\" disabled=\"true\"><field name=\"NUM\">2</field></shadow></value></block></value><value name=\"arg1\"><block type=\"text\" id=\"2UL{_oB!j=N%DK^4UEA{\" disabled=\"true\"><field name=\"TEXT\">hPa</field></block></value></block><block type=\"text_add\" id=\"4=2dC!%U@)u+T`byg,9%\" disabled=\"true\" x=\"650\" y=\"330\"><value name=\"arg0\"><shadow type=\"text\" id=\"XthNcx5WU7}c-UFT*n(7\" disabled=\"true\"><field name=\"TEXT\"></field></shadow></value><value name=\"arg1\"><block type=\"text\" id=\"Y4t_t0rHfTHrW%L6v2jq\" disabled=\"true\"><field name=\"TEXT\">C</field></block></value></block><block type=\"text_add\" id=\"Vk4ZciAb,z,:i`-S];TP\" disabled=\"true\" x=\"450\" y=\"610\"><value name=\"arg0\"><shadow type=\"text\" id=\"1eJ~(.7Nsv{jGu(P@oNH\" disabled=\"true\"><field name=\"TEXT\"></field></shadow></value><value name=\"arg1\"><block type=\"text\" id=\"PwqsxDurdYma*4$rkNI(\" disabled=\"true\"><field name=\"TEXT\">%</field></block></value></block><block type=\"mqtt_sub\" id=\"9eE]5t(m@DgZ3OgVEBs8\" x=\"121\" y=\"741\"><value name=\"FROM\"><shadow type=\"text\" id=\"1;m?eXrYof/6@A]M-@aA\"><field name=\"TEXT\">home-relay1</field></shadow></value><statement name=\"FUNC\"><block type=\"controls_if\" id=\"bE|p#nwBMeE~d@tAol.]\"><value name=\"IF0\"><block type=\"logic_compare\" id=\":}UmVKm!k9N@+my|@1`i\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"|NfG|NOPLrv0Tk=Ptt}`\"></block></value><value name=\"B\"><block type=\"text\" id=\"MID(_E6FA~f_QPRr^Kg7\"><field name=\"TEXT\">open</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"@)8uu3^$%6Qwu)r;eps:\"><field name=\"VAR\" id=\"E=I$[XCY9iVzUGF{d8B*\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"dazR(Ku-eS.LGnz0ICO(\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"^w@Df!-FDRZEXs4%XxMz\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"}V4?tjF5n`Jr+M_vIs,J\"><field name=\"NUM\" max=\"9999\" step=\"1\">816</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\" id=\"22JH.eqTlNl;ERf{wHs[\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"|G-KnGU#+j9r0MvYd46,\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"v=w/|{Bp%5/SHiSN^b:M\"><field name=\"BOOL\">TRUE</field></block></value></block></value></block></value></block></statement><next><block type=\"controls_if\" id=\"$#-JQqgStjPg2_aY$bZo\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"$^LdP;/~_8TX%6{Rjq43\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"SO9cmgh?Iz2K#{fZM7Dv\"></block></value><value name=\"B\"><block type=\"text\" id=\"opSSBI@d1-D)|A8.y?4J\"><field name=\"TEXT\">close</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"Kx*wR_T1_(^iXQ{A(gHg\"><field name=\"VAR\" id=\"E=I$[XCY9iVzUGF{d8B*\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"R)ozlPI9[tG8r}xVj2*H\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"b]Oj]2yI$q!1]!UY;x/l\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"K5NZw?jM,3.+475Ty$yU\"><field name=\"NUM\" max=\"9999\" step=\"1\">816</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"C8//ne3W}HS{))_(Efcx\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"hWU@.UgXAR$~lWH/F:kB\"><field name=\"BOOL\">FALSE</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block><block type=\"mqtt_sub\" id=\"unBnb89h!p5+n(;IbS=c\" x=\"130\" y=\"990\"><value name=\"FROM\"><shadow type=\"text\" id=\"0I,~~~zI(~6ynOt[JkUJ\"><field name=\"TEXT\">home-relay2</field></shadow></value><statement name=\"FUNC\"><block type=\"controls_if\" id=\"%-bkS)dIP~V8s=}mXYYk\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"L4q(c6UPe;Do2QJK4Clz\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"`;G+;m9zc8@ga[1IJZ_j\"></block></value><value name=\"B\"><block type=\"text\" id=\"Id!.I)8UwaX$6`hK%0k2\"><field name=\"TEXT\">open</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"CHnqerG4T~NY-MCX{1pS\"><field name=\"VAR\" id=\"E=I$[XCY9iVzUGF{d8B*\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"Klj.,e1Ir5fMKN,F=(EC\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"uy_g98VS`N(O/s^qzgj/\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"PRj;!u7;E0G)NUHgWbJr\"><field name=\"NUM\" max=\"9999\" step=\"1\">817</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"6vT9gBP+nZS%Lk1T}pdB\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"!F@~ENfpa3,z@VP`gt^2\"><field name=\"BOOL\">TRUE</field></block></value></block></value></block></value></block></statement><next><block type=\"controls_if\" id=\"1)w5C~|v0}sC{5J;$no3\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"^=JF4Ic?B8Sr].[~*!mU\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"ONp)iD+F2T2}h2zZF;k@\"></block></value><value name=\"B\"><block type=\"text\" id=\"ZKM~9v6f:_0#5zkisUO.\"><field name=\"TEXT\">close</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"tQN,b;L+gH7ZH3A;(Y`B\"><field name=\"VAR\" id=\"E=I$[XCY9iVzUGF{d8B*\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"@ZjOg+?E7(`q~:?_Ha?J\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"e5!c@d0j-(]vVjxF]X@G\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"A#WG]uhU6$d~%@!TpQ8x\"><field name=\"NUM\" max=\"9999\" step=\"1\">817</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"Ak@%WLhcHv,PS3/^TKDD\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"gt,h~m35~%tMsSa+la/l\"><field name=\"BOOL\">FALSE</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block><block type=\"mqtt_sub\" id=\"m{4nTr(}=zm5$=gZl*O}\" x=\"130\" y=\"1270\"><value name=\"FROM\"><shadow type=\"text\" id=\"POj+M6-guB++[qEN!eGf\"><field name=\"TEXT\">home-relay3</field></shadow></value><statement name=\"FUNC\"><block type=\"controls_if\" id=\"q6u/b[m$5bnPdp[hZ5h%\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"zrK1Iz|tB6%@a,K/(;w6\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"r2#6hw*V?z#_0CFtw11(\"></block></value><value name=\"B\"><block type=\"text\" id=\"x08cpht-o5$01hREaR7Y\"><field name=\"TEXT\">open</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"$a|hgQN)Kwi-I6e[Jv+j\"><field name=\"VAR\" id=\"E=I$[XCY9iVzUGF{d8B*\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"l=2]ixf[4p(?T?-y{VCt\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"k1p;EdWGQnMb-m1ugQ}*\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"vl,)k*9rVptkeEVG=_E5\"><field name=\"NUM\" max=\"9999\" step=\"1\">818</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"5~D?M%KSgdSxUwYgse^s\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"Z*$LDn0HSkShtzyM=0L~\"><field name=\"BOOL\">TRUE</field></block></value></block></value></block></value></block></statement><next><block type=\"controls_if\" id=\"3Js7.7$k6+.SNPbQpDpj\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"jMl~mT{u{[w0ld=dz-g;\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"mqtt_get_topic_data\" id=\"I{`JiPK-D-XW#u4JMdCO\"></block></value><value name=\"B\"><block type=\"text\" id=\"I]*{3]#Ywh5md*Joen|/\"><field name=\"TEXT\">close</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"j`Bmh$wo^Q+tYRa#@LcN\"><field name=\"VAR\" id=\"E=I$[XCY9iVzUGF{d8B*\">write</field><value name=\"VALUE\"><block type=\"modbus_master_u_write_multiple_coils\" id=\"B%lBhp.c8S.j[%4Iaso2\"><value name=\"slave_addr\"><shadow type=\"math_slider\" id=\"/8|e(s3yz1YX/H2%Fk`2\"><field name=\"NUM\" max=\"247\" step=\"1\">1</field></shadow></value><value name=\"starting_addr\"><shadow type=\"math_slider\" id=\"Knf6eaqhR)j(sVlEo5-I\"><field name=\"NUM\" max=\"9999\" step=\"1\">818</field></shadow></value><value name=\"output_value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"lists_create_with\" id=\"aY!XC43$2YPo4S44z#ir\"><mutation items=\"1\"></mutation><value name=\"ADD0\"><block type=\"logic_boolean\" id=\"a/240mV]Me{/]9^fC4O2\"><field name=\"BOOL\">FALSE</field></block></value></block></value></block></value></block></statement></block></next></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1678545602524,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"E4TKYc1AISpRGhpbdMB6zZn9DR2elnRU","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["rgb"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"9789495A","uuid":"72717e8f-943a-4b3f-b236-e01485fbddf7"}